{% extends "base.html" %}
{% load static %}

{% block title %}

{% endblock %}

{% block header %}
    <a href="{% url 'spotify_login' %}" class="spotify-login-button">
        <img src="{% static 'images/spotify-green.png' %}" alt="Spotify" class="spotify-icon">
        Login with Spotify
    </a>
{% endblock %}

{% block individual_css %}
<link rel="stylesheet" href="{% static 'css/landing.css' %}">
{% endblock %}

{% block nav %}
<h2>Explore</h2>
<ul class="button-group">
    {% for genre in genres %}
        <li><a href="?genre_name={{ genre }}">{{ genre|capfirst }}</a></li>
    {% empty %}
        <li><em>No genres available</em></li>
    {% endfor %}
</ul>
{% endblock %}

{% block content %}
<div class="main-header">
    <h1>Artist Library</h1>
    <p>Artists featured in <strong>{{ genre|capfirst }}</strong></p>

    {% if error_message %}
    <div class="error-box">
        <p>{{ error_message }}</p>
        <p>Try selecting a different genre or coming back later.</p>
    </div>
    {% endif %}
</div>

{% if artists %}
<div class="scrollable-content">
    <ul>
        {% for artist in artists %}
        <a href="{% url 'artist' id=artist.spotify_id %}" class="artist-link">
            <li class="artist-entry">
                <div class="artist-content">
                    <img src="{{ artist.image_url }}" alt="{{ artist.name }}" class="artist-image">
                    <div class="artist-text">
                        <span class="artist-name">{{ artist.name }}</span>
                        <p class="artist-bio">Popularity: {{ artist.popularity }}</p>
                    </div>
                </div>
            </li>
        </a>
        {% endfor %}
    </ul>
</div>
{% else %}
    {% if not error_message %}
    <p>No artists available for this genre.</p>
    {% endif %}
{% endif %}
{% endblock %}

{% block footer %}
    <a href="{% url 'about' %}">About</a>
{% endblock %}
